


<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<title>شبیه‌ساز ارز دیجیتال - فونیکس</title>
<style>
  body { font-family: Tahoma, sans-serif; background: #f9f9f9; text-align:center; padding: 20px; }
  h1 { color: #333; }
  .box { background: #fff; padding: 20px; margin: 20px auto; border-radius: 10px; width: 300px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
  button { padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; cursor: pointer; }
  .top-btn { position: fixed; top: 20px; left: 20px; background: teal; color: white; padding: 10px 20px; border-radius: 8px; z-index: 1000; }
  .invite-btn { position: fixed; top: 70px; left: 20px; background: orange; color: white; padding: 10px 20px; border-radius: 8px; z-index: 1000; }
  .delete-btn { position: fixed; top: 120px; left: 20px; background: red; color: white; padding: 10px 20px; border-radius: 8px; z-index: 1000; }
  .top-btn:hover { background: darkcyan; }
  .invite-btn:hover { background: darkorange; }
  .delete-btn:hover { background: darkred; }
</style>
</head>
<body>

<h1>شبیه‌ساز ارز دیجیتال - فونیکس</h1>
<p>کاربر: <span id="username"></span></p>

<!-- دکمه پول -->
<button class="top-btn" onclick="addDailyMoney()">پول می‌خوام</button>

<!-- دکمه کد دعوت -->
<button class="invite-btn" onclick="enterInviteCode()">کد دعوت</button>

<!-- دکمه پاک کردن حساب -->
<button class="delete-btn" onclick="deleteAccount()">پاک کردن حساب</button>

<div class="box">
  <div class="crypto-name">فونیکس (Phoenix)</div>
  <p>قیمت: <span id="pricePhoenix">10</span> تومان</p>
  <button onclick="buy('phoenix')">خرید</button>
  <button onclick="sell('phoenix')">فروش</button>
  <p>مقدار شما: <span id="cryptoPhoenix">0</span> واحد</p>
</div>

<div class="box">
  <div class="crypto-name">نات کوین (NutCoin)</div>
  <p>قیمت: <span id="priceNut">100</span> تومان</p>
  <button onclick="buy('nut')">خرید</button>
  <button onclick="sell('nut')">فروش</button>
  <p>مقدار شما: <span id="cryptoNut">0</span> واحد</p>
</div>

<div class="box">
  <p>پول شما: <span id="money">0</span> تومان</p>
</div>

<script>
// ---------- ثبت نام و نام کاربری ----------
let username = localStorage.getItem('username');

if(username){
  document.getElementById('username').innerText = username;
} else {
  let newUsername = prompt("لطفاً نام کاربری خود را وارد کنید:") || "کاربر ناشناس";

  if(localStorage.getItem('username') === newUsername){
    alert("این نام کاربری قبلاً وجود دارد!");
    username = newUsername;
  } else {
    username = newUsername;
    localStorage.setItem('username', username);
  }

  document.getElementById('username').innerText = username;
}

// ---------- پول و ارز ----------
let money = parseFloat(localStorage.getItem('money')) || 0;

// فونیکس
let cryptoPhoenix = parseInt(localStorage.getItem('cryptoPhoenix')) || 0;
let pricePhoenix = parseFloat(localStorage.getItem('pricePhoenix')) || 10;

// نات کوین
let cryptoNut = parseInt(localStorage.getItem('cryptoNut')) || 0;
let priceNut = parseFloat(localStorage.getItem('priceNut')) || 100;

// ---------- جایزه یک‌بار 100 تومنی برای سیکی ----------
let sikyBonusClaimed = JSON.parse(localStorage.getItem('sikyBonusClaimed')) || false;
if(username === 'سیکی' && !sikyBonusClaimed){
  money += 100;
  localStorage.setItem('money', money);
  localStorage.setItem('sikyBonusClaimed', true);
  alert("به کاربر سیکی 100 تومان اضافه شد!");
}

function updateDisplay(){
  document.getElementById('money').innerText = money.toFixed(1);
  document.getElementById('cryptoPhoenix').innerText = cryptoPhoenix;
  document.getElementById('pricePhoenix').innerText = pricePhoenix.toFixed(1);

  document.getElementById('cryptoNut').innerText = cryptoNut;
  document.getElementById('priceNut').innerText = priceNut.toFixed(1);

  localStorage.setItem('money', money);
  localStorage.setItem('cryptoPhoenix', cryptoPhoenix);
  localStorage.setItem('pricePhoenix', pricePhoenix);

  localStorage.setItem('cryptoNut', cryptoNut);
  localStorage.setItem('priceNut', priceNut);
}

// ---------- تغییر قیمت اتوماتیک ----------
setInterval(()=>{
  let changePhoenix = (Math.random()*2-1);
  pricePhoenix = Math.max(1, pricePhoenix + changePhoenix);

  let changeNut = (Math.random()*5-2.5); // نوسان بیشتر برای نات کوین
  priceNut = Math.max(1, priceNut + changeNut);

  updateDisplay();
}, 3000);

// ---------- خرید و فروش ----------
function buy(type){
  if(type === 'phoenix'){
    if(money >= pricePhoenix){
      cryptoPhoenix += 1;
      money -= pricePhoenix;
    } else {
      alert("پول کافی برای خرید فونیکس ندارید!");
    }
  } else if(type === 'nut'){
    if(money >= priceNut){
      cryptoNut += 1;
      money -= priceNut;
    } else {
      alert("پول کافی برای خرید نات کوین ندارید!");
    }
  }
  updateDisplay();
}

function sell(type){
  if(type === 'phoenix'){
    if(cryptoPhoenix >= 1){
      cryptoPhoenix -= 1;
      money += pricePhoenix;
    } else {
      alert("هیچ فونیکسی برای فروش ندارید!");
    }
  } else if(type === 'nut'){
    if(cryptoNut >= 1){
      cryptoNut -= 1;
      money += priceNut;
    } else {
      alert("هیچ نات کوینی برای فروش ندارید!");
    }
  }
  updateDisplay();
}

// ---------- دکمه پول روزانه ----------
function addDailyMoney(){
  const today = new Date().toDateString();
  const lastClaim = localStorage.getItem('lastClaim') || "";

  if(lastClaim === today){
    alert("امروز قبلاً پول خود را دریافت کرده‌اید. دوباره فردا تلاش کنید!");
  } else {
    money += 10;
    localStorage.setItem('lastClaim', today);
    updateDisplay();
    alert("10 تومان روزانه به حساب شما اضافه شد!");
  }
}

// ---------- کد دعوت یکبار مصرف ----------
function enterInviteCode(){
  const usedInvite1 = JSON.parse(localStorage.getItem('usedInvite1')) || false;
  const usedInvite2 = JSON.parse(localStorage.getItem('usedInvite2')) || false;
  const code = prompt("لطفاً کد دعوت را وارد کنید:");
  if(!code) return;

  if(code === "FONIKS100"){
    if(usedInvite1){
      alert("کد FONIKS100 فقط یکبار قابل استفاده است!");
    } else {
      money += 100;
      localStorage.setItem('money', money);
      localStorage.setItem('usedInvite1', true);
      updateDisplay();
      alert("کد FONIKS100 درست! 100 تومان به حساب شما اضافه شد.");
    }
  } else if(code === "FONGOL"){
    if(usedInvite2){
      alert("کد FONGOL فقط یکبار قابل استفاده است!");
    } else {
      money += 10;
      localStorage.setItem('money', money);
      localStorage.setItem('usedInvite2', true);
      updateDisplay();
      alert("کد FONGOL درست! 10 تومان به حساب شما اضافه شد.");
    }
  } else {
    alert("کد اشتباه است!");
  }
}

// ---------- پاک کردن حساب ----------
function deleteAccount(){
  if(confirm("آیا مطمئن هستید که می‌خواهید حساب خود را پاک کنید؟ همه چیز حذف خواهد شد.")){
    localStorage.clear();
    alert("حساب شما پاک شد!");
    location.reload();
  }
}

updateDisplay();
</script>

</body>
</html>
